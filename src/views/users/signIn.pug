extends ../layouts/sign.pug
include ../includes/icons.pug

block content
  div(class="flex items-stretch h-screen")
    div(class="grow flex items-center basis-1/2 px-8")
      h1(class="text-7xl font-extrabold") See what's happening
    div(class="bg-gray-100 grow flex items-center justify-center basis-1/2")
      div(class="w-full max-w-sm min-w-min-content flex flex-col gap-1")
        a(class="flex items-center gap-2 border border-gray-200 bg-white rounded-full justify-center py-2 hover:bg-gray-50 transition-all" href="/google")
          +Google
          span(class="text-sm" id="google-label") Sign up with Google
        div(class="flex items-center gap-2")
          div(class="h-[1px] bg-gray-300 grow")
          span(class="text-sm") or
          div(class="h-[1px] bg-gray-300 grow")
        div(id="sign-up-btn" class="flex items-center gap-2 border border-gray-200 bg-white rounded-full justify-center py-2 hover:bg-gray-50 transition-all cursor-pointer mb-4")
          span(class="text-sm" id="email-label") Sign up with email
        p(class="font-semibold text-sm") Already have an account?
          a(class="text-blue-600 cursor-pointer" id="select-sign")
            |  Sign in

    include ../modals/signUp.pug
    include ../modals/signIn.pug
  script.
    const signUpButton = document.getElementById('sign-up-btn')
    const signInButton = document.getElementById('sign-in-btn')
    const selectSign = document.getElementById('select-sign')
    const googleLabel = document.getElementById('google-label')
    const emailLabel = document.getElementById('email-label')
    let state = true

    selectSign.addEventListener('click', (ev) => {
      ev.preventDefault()
      state = !state
      googleLabel.textContent = state ? ' Sign up with Google' : ' Continue with Google'
      emailLabel.textContent = state ? ' Sign up with Email' : ' Continue with Email'
      selectSign.textContent = state ? ' Sign in' : ' Sign up'

      emailLabel.addEventListener('click', function (event) {
        if(state) {
          MicroModal.show('modal-1')
        } else {
          MicroModal.show('modal-2')
        }
      })
    })
